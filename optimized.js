const toggleButton=document.getElementById("theme-toggle"),loadingOverlay=document.getElementById("loading-overlay"),body=document.body,switchIcon=document.querySelector(".toggle-button .switch"),ontop=document.getElementById("ontop"),sidebar=document.getElementById("sidebar"),hideSidebarBtn=document.getElementById("hide-sidebar"),content=document.getElementById("content"),sections=document.querySelectorAll(".sections li a"),contentSections={home:document.getElementById("home"),contributors:document.getElementById("contributors"),"android-projects":document.getElementById("android-projects"),"linux-projects":document.getElementById("linux-projects"),"windows-projects":document.getElementById("windows-projects")},imageCache={"share-btn":"https://i.ibb.co/z4W9zDG/share-icon.png"},currentHash=window.location.hash.substring(1),cache={},CARDS_TO_LOAD=5;var loadingTimeout,loadedCards=0,lastScrollPosition=0,allProjects=[];function showLoading(){loadingOverlay.classList.remove("k2hide")}function hideLoading(){clearTimeout(loadingTimeout),loadingOverlay.classList.add("k2hide")}function startLoading(){loadingTimeout=setTimeout(showLoading,1e3)}function preloadImages(){for(const e in imageCache)if(imageCache.hasOwnProperty(e)){const t=new Image;t.src=imageCache[e],imageCache[e]=t}}function generateCard(e,t){const n=document.createElement("div");n.classList.add("app-section"),n.innerHTML=`\n      <h1>${e.title}\n          <img class="share-btn" alt="Share"/>\n          <div class='rw-ui-container' data-title='${e.title}'></div>\n      </h1>\n      <div class='metadata'>\n          <span class='author clickable'>By ${e.author}</span>\n          <span class='category'>${e.category}</span>\n          <span class='year'>${new Date(e.date).getFullYear()}</span>\n      </div>\n      <p class='description'>${e.description}</p>\n      <div class='app-launcher-container' data-hosted='${e.dataHosted}'></div>\n  `;const o=n.querySelector(".share-btn");o.src=imageCache["share-btn"].src,o.addEventListener("click",(()=>{const n=`#id=${encodeURIComponent(t)}&author=${encodeURIComponent(e.author)}&category=${encodeURIComponent(e.category)}&year=${new Date(e.date).getFullYear()}&title=${encodeURIComponent(e.title)}`,o=`${window.location.origin}${window.location.pathname}${n}`;navigator.clipboard.writeText(o).then((()=>{showUploadContent("URL Copied to Clipboard",!1)}))}));const a=n.querySelector(".author");return a.style.cursor="pointer",e.contact?a.addEventListener("click",(()=>{window.open(e.contact,"_blank","noopener noreferrer")})):a.addEventListener("click",(()=>{showUploadContent(e.author+" did not add his contact",!1)})),n}async function setupAppLauncher(){const e=document.querySelectorAll(".app-launcher-container"),t=Array.from(e).map((async e=>{const t=e.getAttribute("data-hosted");t&&await fetchGitHubData(t,e)}));await Promise.all(t)}function setupSearchAndFilters(e,t){const n=e.querySelector(".app-search-bar"),o=e.querySelector(".author-filter"),a=e.querySelector(".category-filter"),i=e.querySelector(".year-filter"),s=[...new Set(t.map((e=>e.author)))],l=[...new Set(t.map((e=>e.category)))],c=[...new Set(t.map((e=>new Date(e.date).getFullYear())))];function r(){const s=n.value.toLowerCase(),l=o.value,c=a.value,r=i.value,d=t.filter((e=>{const t=e.title.toLowerCase().includes(s)||e.description.toLowerCase().includes(s),n=!l||e.author===l,o=!c||e.category===c,a=!r||new Date(e.date).getFullYear()===parseInt(r);return t&&n&&o&&a})),u=e.querySelector(".gcards-dynamic");u.innerHTML="",d.slice(0,loadedCards).forEach((t=>{const n=generateCard(t,e.id);u.appendChild(n)})),setupAppLauncher(),"undefined"!=typeof RW&&RW.render()}populateSelect(o,s),populateSelect(a,l),populateSelect(i,c),n.addEventListener("input",r),o.addEventListener("change",r),a.addEventListener("change",r),i.addEventListener("change",r)}function populateSelect(e,t){e.innerHTML='<option value="">All</option>',t.forEach((t=>{const n=document.createElement("option");n.value=t,n.textContent=t,e.appendChild(n)}))}function loadMoreProjects(e,t){if(!allProjects||0===allProjects.length)return void(t.innerHTML='\n        <div class="gcards-dynamic center" style="height: 200px; display: flex; align-items: center; justify-content: center;">\n            <div>\n                <div style="font-size: 3rem; text-align: center; margin-bottom: 10px;">ðŸ‘‹</div>\n                <div style="font-size: 1.2rem;">No content at the moment</div>\n            </div>\n        </div>');allProjects.slice(loadedCards,loadedCards+5).forEach((n=>{const o=generateCard(n,e.id);t.appendChild(o)})),(loadedCards+=5)>=allProjects.length?hideLoadingSpinner(e):showLoadingSpinner(e)}function showLoadingSpinner(e){e.querySelector(".loading-spinner").style.display="block"}function hideLoadingSpinner(e){e.querySelector(".loading-spinner").style.display="none"}function initInfiniteScroll(e,t){const n=e.querySelector(".app-main-container");n.addEventListener("scroll",(()=>{n.scrollHeight-n.scrollTop<=n.clientHeight+100&&loadMoreProjects(e,t)}))}async function loadProjectData(e,t){const n=t.querySelector(".gcards-dynamic");try{startLoading();const o=await fetch(e),a=await o.json();allProjects=a.sort(((e,t)=>new Date(t.date)-new Date(e.date))),loadedCards=0,n.innerHTML="",loadMoreProjects(t,n),setupSearchAndFilters(t,a),initInfiniteScroll(t,n),await setupAppLauncher(),"undefined"!=typeof RW&&awaitRW.render()}catch(e){}finally{hideLoading()}}window.addEventListener("load",(function(){hideLoading()})),preloadImages(),document.querySelectorAll(".gcards").forEach((e=>{e.addEventListener("click",(async function(e){const t=e.currentTarget.dataset.target,n=e.currentTarget.dataset.json,o=e.currentTarget.closest(".gcards-wrapper");let a=o.querySelector(".gcards-sections");a||(a=document.createElement("div"),a.classList.add("gcards-sections"),o.appendChild(a));let i=document.getElementById(t);if(i)navigateToSection(t);else{i=document.createElement("div"),i.id=t,i.classList.add("gcards-section"),i.dataset.parentSection=o.id,i.style.display="none",i.innerHTML="\n                <button class='go-back'>&#8592;</button>\n                <div class='app-main-container'>\n                    <div class='app-search-filter-bar'>\n                        <input class='app-search-bar' placeholder='Search by title or description...' type='text'/>\n                        <div class='app-filter'>\n                            <select class='author-filter'></select>\n                        </div>\n                        <div class='app-filter'>\n                            <select class='category-filter'></select>\n                        </div>\n                        <div class='app-filter'>\n                            <select class='year-filter'></select>\n                        </div>\n                    </div>\n                    <div class='gcards-dynamic'></div>\n                    \n                    <div class='loading-spinner' style='display:none;'>\n                        <img src='https://wpamelia.com/wp-content/uploads/2018/11/ezgif-2-6d0b072c3d3f.gif'/>\n                    </div>\n                </div>\n            ",a.appendChild(i),navigateToSection(t),await loadProjectData(n,i),i.querySelector(".go-back").addEventListener("click",(function(){i.classList.remove("active"),setTimeout((()=>{i.style.display="none";const e=i.dataset.parentSection;e&&navigateToSection(e)}),500)}));const e=document.createElement("div");e.classList.add("app-window"),e.innerHTML="\n                <button class='app-go-back'>&#8592;</button>\n                <div class='hosted-window-content'>\n                </div>\n            ",a.appendChild(e),e.querySelector(".app-go-back").addEventListener("click",(function(){e.classList.remove("show"),e.classList.add("hide"),setTimeout((()=>{e.style.display="none"}),300),window.scrollTo({top:lastScrollPosition,behavior:"smooth"})}))}gotoTop()}))}));var sideshow=!ismobile();const hour=(new Date).getHours();function updateHighlightTheme(e){document.getElementById("highlight-style").href="dark"===e?"//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.css":"//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-light.css"}function ismobile(){return window.matchMedia("(max-width: 768px)").matches}function ToOpenToggle(){hideSidebarBtn.textContent="â–¶"}function ToCloseToggle(){hideSidebarBtn.textContent="âœ–"}function sidetoggle(){ismobile()?sideshow?(sidebar.style.transform="translateX(-100%)",content.classList.remove("hidden"),hideSidebarBtn.classList.remove("hide-sidebar-btn-mobile"),ToOpenToggle()):(sidebar.style.transform="translateX(0)",content.classList.add("hidden"),hideSidebarBtn.classList.add("hide-sidebar-btn-mobile"),ToCloseToggle()):sideshow?(sidebar.style.transform="translateX(-100%)",content.style.marginLeft="10px",ToOpenToggle()):(sidebar.style.transform="translateX(0)",content.style.marginLeft="var(--content-left)",ToCloseToggle()),sideshow=!sideshow}function gotoTop(){ontop.scrollIntoView({behavior:"smooth",block:"center"})}function navigateToSection(e){const t=document.getElementById(e),n=t.classList.contains("gcards-section"),o=t.dataset.parentSection;document.querySelectorAll(".gcards-wrapper").forEach((e=>{e.style.display="none"})),sections.forEach((e=>e.classList.remove("active")));for(const e in contentSections){const t=contentSections[e];t.classList.contains("gcards-section")&&t.classList.contains("active")||(t.classList.remove("active"),t.style.display="none")}if(n&&o){document.getElementById(o).style.display="block",document.querySelector(`[data-section="${o}"]`).classList.add("active")}else document.querySelector(`[data-section="${e}"]`).classList.add("active");t&&(t.style.display="block",setTimeout((()=>{t.classList.add("active")}),10),sideshow&&ismobile()&&sidetoggle()),window.location.hash=e}function sanitizeInput(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}function restoreFromHash(e){var t,n,o,a,i=e;if(e.includes("=")){const s=new URLSearchParams(e);i=sanitizeInput(s.get("id")),t=sanitizeInput(s.get("author")),n=sanitizeInput(s.get("category")),o=sanitizeInput(s.get("year")),a=sanitizeInput(s.get("title"))}else{if(document.getElementById(i))return void navigateToSection(i)}const s=document.querySelector(`.gcards[data-target='${i}']`);s&&(s.click(),waitForFilters(i,(function(e){if(t){e.querySelector(".author-filter").value=t}if(n){e.querySelector(".category-filter").value=n}if(o){e.querySelector(".year-filter").value=o}if(a){var i=e.querySelector(".app-search-bar");i.value=a,i.dispatchEvent(new Event("input"))}})))}function waitForFilters(e,t){const n=document.getElementById(e);if(!n)return;const o=new MutationObserver((function(e){const a=n.querySelector(".author-filter"),i=n.querySelector(".category-filter"),s=n.querySelector(".year-filter");a&&i&&s&&(o.disconnect(),t(n))}));o.observe(n,{childList:!0,subtree:!0})}sideshow||ToOpenToggle(),hideSidebarBtn.addEventListener("click",sidetoggle),toggleButton.addEventListener("click",(()=>{body.classList.toggle("theme-dark"),switchIcon.classList.toggle("light-mode"),switchIcon.classList.toggle("dark-mode"),updateHighlightTheme(body.classList.contains("theme-dark")?"dark":"light")})),updateHighlightTheme("light"),(hour>=18||hour<6)&&!body.classList.contains("theme-dark")&&toggleButton.click(),currentHash&&(restoreFromHash(currentHash),gotoTop()),sections.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();navigateToSection(e.dataset.section),gotoTop()}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".scroll-to-top");window.addEventListener("scroll",(()=>{window.scrollY>100?e.classList.add("show"):e.classList.remove("show")})),e.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))}));const defaultIcons={documentation:{url:"https://cdn-icons-png.flaticon.com/512/888/888108.png",image:null},readme:{url:"https://cdn-icons-png.flaticon.com/512/888/888108.png",image:null},changelog:{url:"https://freepngimg.com/save/91436-blue-electric-icons-question-mark-computer/512x512",image:null},download:{url:"https://cdn-icons-png.flaticon.com/512/9205/9205302.png",image:null}};async function fetchGitHubData(e,t){try{const n=await fetch(e);processGitHubData(await n.json(),t)}catch(e){}}function processGitHubData(e,t){t.innerHTML="",e.forEach((n=>{if("file"===n.type&&n.name.endsWith(".md")){const o=n.name.split(".md")[0];createAppIcon(o,getAppIconUrl(o,e),n.download_url,t)}}))}function getAppIconUrl(e,t){const n=t.find((t=>t.name===`${e}.png`));if(n)return n.download_url;{const t=getOrCreateDefaultIcon(e);return t?t.src:null}}function getOrCreateDefaultIcon(e){const t=e.toLowerCase();if(defaultIcons[t]){if(!defaultIcons[t].image){const e=new Image;e.src=defaultIcons[t].url,defaultIcons[t].image=e}return defaultIcons[t].image.cloneNode()}return null}function createAppIcon(e,t,n,o){const a=document.createElement("div");let i;if(a.className="app-icon",t)i=document.createElement("img"),i.src=t;else{const t=getOrCreateDefaultIcon(e);t?i=t:(i=document.createElement("div"),i.className="app-text-icon",i.dataset.initials=e.charAt(0).toUpperCase())}const s=document.createElement("p");s.textContent=e,a.appendChild(i),a.appendChild(s),a.addEventListener("click",(()=>loadMarkdownContent(n,o))),o.appendChild(a)}function loadMarkdownContent(e,t){const n=t.closest(".gcards-sections").querySelector(".app-window"),o=n.querySelector(".hosted-window-content");lastScrollPosition=window.scrollY||document.documentElement.scrollTop,n.classList.remove("hide"),n.style.display="block",setTimeout((()=>{n.classList.add("show")}),10),o.innerHTML="",startLoading(),fetch(e).then((e=>e.text())).then((e=>{const t=window.markdownit({html:!1,linkify:!0,typographer:!0,breaks:!0}).use(markdownItAttrs,{leftDelimiter:"{",rightDelimiter:"}",allowedAttributes:["class","style","href","target","data-download-url"]}).render(e);o.innerHTML=`<div class="markdown">${t}</div>`,highlightCodeBlocks(o),refreshDownloadBtn(),gotoTop(),hideLoading()})).catch((e=>{o.innerHTML="<p>Error loading content.</p>",hideLoading()})).finally((()=>{hideLoading()}))}function highlightCodeBlocks(e){e.querySelectorAll("pre code").forEach((e=>{hljs.highlightBlock(e)}))}class CopyButtonPlugin{constructor(e={}){this.hook=e.hook,this.callback=e.callback,this.lang=e.lang||document.documentElement.lang||"en"}"after:highlightElement"({el:e,text:t}){let n=document.createElement("div");n.className="hljs-toolbar";let o=e.result?.language||e.dataset.language||"Plaintext",a=document.createElement("span");a.className="hljs-lang-label",a.textContent=o.toUpperCase(),n.appendChild(a);let i=Object.assign(document.createElement("button"),{innerHTML:locales[this.lang]?.[0]||"Copy",className:"hljs-copy-button"});i.dataset.copied=!1,n.appendChild(i),e.parentElement.classList.add("hljs-copy-wrapper"),e.parentElement.insertBefore(n,e),i.onclick=()=>{if(!navigator.clipboard)return;let n=t;this.hook&&"function"==typeof this.hook&&(n=this.hook(t,e)||t),navigator.clipboard.writeText(n).then((()=>{i.innerHTML=locales[this.lang]?.[1]||"Copied!",i.dataset.copied=!0,setTimeout((()=>{i.innerHTML=locales[this.lang]?.[0]||"Copy",i.dataset.copied=!1}),2e3)})).then((()=>{if("function"==typeof this.callback)return this.callback(n,e)}))}}}"undefined"!=typeof module&&(module.exports=CopyButtonPlugin);const locales={en:["Copy","Copied!","Copied to clipboard"],es:["Copiar","&#161;Copiado!","Copiado al portapapeles"]};hljs.addPlugin(new CopyButtonPlugin);const downloadContent=document.getElementById("download-container"),uploadContent=document.getElementById("upload-form-container"),downloadBtns=document.querySelectorAll(".download-button"),overlay=document.getElementById("overlay"),closeOverlay=document.getElementById("close-overlay"),timerElement=document.getElementById("timer"),ads=document.getElementById("ad-container"),clickme=document.getElementById("clickme-container");let countdown=5;function refreshDownloadBtn(){document.querySelectorAll("[data-download-url]").forEach((e=>{e.classList.contains("download-button")||e.classList.add("download-button"),e.addEventListener("click",(t=>{t.preventDefault();const n=atob(sanitizeInput(e.getAttribute("data-download-url")));if(downloadContent.style.display="block",overlay.style.display="flex",clickme.style.display="block",Checkiframe(clickme)){const e=clickme.querySelector("iframe").contentWindow;e?e.addEventListener("click",(function(e){clickme.style.display="none"})):clickme.style.display="none";const t=setInterval((()=>{countdown--,countdown>0?timerElement.textContent=`Wait ${countdown} seconds...`:(clearInterval(t),timerElement.innerHTML=`<a class='download-button' href='${n}' target='_blank'>DOWNLOAD</a>`)}),1e3)}else timerElement.innerHTML="<h1>&#161;Please disable your Adblocker!</h1><p>Ads are a way to support the maintenance and development of new projects.</p>"}))}))}function Checkiframe(e){return e.querySelector("iframe")}function Checkimg(e){return e.querySelector("img")}function Clickiframe(e){const t=e.querySelector("iframe");if(t){(t.contentDocument||t.contentWindow.document).getElementsByTagName("img")[0].click()}}function onOverlayClose(){overlay.style.display="none",downloadContent.style.display="none",uploadContent.style.display="none",countdown=5,timerElement.textContent=`Wait ${countdown} seconds...`}closeOverlay.textContent="âœ–",document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("overlay2"),t=document.getElementById("idk-btn-close"),n=(document.getElementById("idk-buttons"),document.getElementById("container-362c0c07f4e7f3e5dcd16daeb34ac9ce"));let o=0,a=Date.now(),i=!1;function s(){o<5&&!i&&(n.hasChildNodes()||(n.innerHTML="<h1>&#161;Please disable your Adblocker!</h1><p>Ads are a way to support the maintenance and development of new projects.</p>"),e.style.display="flex",o++,a=Date.now(),i=!0)}function l(){e.style.display="none",i=!1}t.addEventListener("click",l),document.addEventListener("visibilitychange",(function(){document.hidden&&setTimeout((()=>{document.hidden&&o<5&&s()}),1e3)})),setInterval((function(){Date.now()-a>=12e5&&o<5&&s()}),6e4)})),closeOverlay.addEventListener("click",onOverlayClose);const searchInput=document.getElementById("search-input"),searchResults=document.getElementById("search-results");searchInput.addEventListener("input",(()=>{const e=sanitizeInput(searchInput.value.toLowerCase());if(searchResults.innerHTML="",document.querySelectorAll(".highlight").forEach((e=>{const t=e.parentNode,n=document.createTextNode(e.textContent);t.replaceChild(n,e),t.normalize()})),e.length>0){searchResults.style.display="block";for(const[t,n]of Object.entries(contentSections)){const o=[],a=document.createTreeWalker(n,NodeFilter.SHOW_TEXT,null,!1);for(;a.nextNode();){const t=a.currentNode,n=t.textContent.toLowerCase();let i=n.indexOf(e);for(;-1!==i;)o.push({node:t,start:i,end:i+e.length}),i=n.indexOf(e,i+e.length)}o.forEach((e=>{const n=document.createElement("div");n.classList.add("result-item");const o=e.node.textContent.substring(Math.max(0,e.start-30),Math.min(e.node.textContent.length,e.end+30));n.innerHTML=`<h4>${t}</h4><p>...${o}...</p>`,n.addEventListener("click",(()=>{document.querySelectorAll(".highlight").forEach((e=>{const t=e.parentNode,n=document.createTextNode(e.textContent);t.replaceChild(n,e),t.normalize()})),navigateToSection(t),setTimeout((()=>{const t=document.createRange();t.setStart(e.node,e.start),t.setEnd(e.node,e.end);const n=document.createElement("span");n.className="highlight",t.surroundContents(n),n.scrollIntoView({behavior:"smooth",block:"center"})}),100)})),searchResults.appendChild(n)}))}}else searchResults.style.display="none"}));let lastName="",lastMessage="",lastImageSrc="",selectedFile=null,imagePreviewSrc="";function showUploadForm(e="",t="",n={},o=!1){const a=sanitizeInput(e),i=sanitizeInput(lastName),s=sanitizeInput(lastMessage);uploadContent.innerHTML=`\n        <h2>${a}</h2>\n        <div id="upload-area" class="upload-area">\n            <span id="upload-label">${lastImageSrc||"Select an image<br/>(jpg, png, gif)<br/><br/>Max-size: 10MB"}</span>\n            <input type="file" accept="image/*" id="upload-image" style="display: none;" />\n        </div>\n        <input type="text" placeholder="Your Name" id="contributor-name" value="${i}" maxlength="30" />\n        <textarea placeholder="A phrase that represents you in 30 characters." id="contributor-message" maxlength="30">${s}</textarea>\n        <br/>\n        <button id="submit-button">Submit</button>\n        <button id="cancel-button">I don't want it</button>\n    `,uploadContent.style.display="block",overlay.style.display="flex",document.getElementById("upload-area").addEventListener("click",(function(){document.getElementById("upload-image").click()})),document.getElementById("upload-image").addEventListener("change",(function(e){selectedFile=e.target.files[0];if(selectedFile.size>10485760)return void showUploadContent("File is too large! Max size is 10MB.",o,t,n);const a=new FileReader;a.onload=function(e){lastImageSrc=sanitizeInput(selectedFile.name),imagePreviewSrc=e.target.result,document.getElementById("upload-label").textContent=lastImageSrc},a.readAsDataURL(selectedFile)})),document.getElementById("submit-button").addEventListener("click",(function(e){e.preventDefault(),lastName=document.getElementById("contributor-name").value.trim(),lastMessage=document.getElementById("contributor-message").value.trim(),lastName&&lastMessage&&selectedFile?showUploadPreview(lastName,lastMessage,imagePreviewSrc,n,t,o,t,n):showUploadContent("Please complete all fields.",o,t,n)})),document.getElementById("cancel-button").addEventListener("click",onOverlayClose)}async function uploadImageAndSendEmail(e,t,n,o,a,i){const s=new FormData;s.append("image",n);try{const n=await fetch("https://api.imgbb.com/1/upload?key=ccd85d9d78a357a0f8a3131cbbeacd56",{method:"POST",body:s});if(!n.ok)throw new Error("Error uploading image");const i=sanitizeInput((await n.json()).data.url),l={service_id:"service_veamd1e",template_id:"template_3b87c8q",user_id:"BYzFph3zk01yzS2zI",template_params:{message:`\n            Name: ${sanitizeInput(e)}\n            Message: ${sanitizeInput(t)}\n            Image URL: ${i}\n            Transaction ID: ${sanitizeInput(o.id)}\n            Payer Name: ${sanitizeInput(o.payer.name.given_name)} ${sanitizeInput(o.payer.name.surname)}\n            Transaction Amount: $${sanitizeInput(a)}\n        `.trim()}};if(!(await fetch("https://api.emailjs.com/api/v1.0/email/send",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}})).ok)throw new Error("Error sending email");showUploadContent("Successfully. The security review may take 1-4 days.",!1),lastName="",lastMessage="",lastImageSrc="",selectedFile=null,imagePreviewSrc=""}catch(e){"Error uploading image"===e.message?showUploadContent("There was an error uploading your image. Please try again.",i,a,o):"Error sending email"===e.message?showUploadContent("There was an error contacting the server. Please try again.",i,a,o):showUploadContent("An unexpected error occurred. Please try again.",i,a,o)}}async function showUploadAmountInput(e=""){return uploadContent.innerHTML=`\n        <h2>${sanitizeInput(e)}</h2>\n<p>$</p><input type="number" placeholder="0" id="amount-value"/>\n        <br/>\n        <button id="submit-amount-button">DONATE</button>\n    `,uploadContent.style.display="block",overlay.style.display="flex",new Promise(((e,t)=>{document.getElementById("submit-amount-button").addEventListener("click",(function(n){n.preventDefault();var o=Number(document.getElementById("amount-value").value);!o||o<=0?(showUploadContent("Invalid amount"),t("Invalid amount")):e(o)}))}))}function showUploadPreview(e,t,n,o,a,i){const s=sanitizeInput(n),l=createCard({title:sanitizeInput(e),description:sanitizeInput(t),imageUrl:s});uploadContent.innerHTML="<br/>",uploadContent.appendChild(l);const c=document.createElement("button");c.id="confirm-button",c.textContent="Confirm",c.addEventListener("click",(function(){uploadImageAndSendEmail(e,t,selectedFile,o,a,i)}));const r=document.createElement("button");r.id="edit-button",r.textContent="Edit",r.addEventListener("click",(function(){showUploadForm("",a,o,i)})),uploadContent.appendChild(c),uploadContent.appendChild(r)}function showUploadContent(e,t=!1,n="",o={}){const a=sanitizeInput(e);uploadContent.innerHTML=`\n        <h2>${a}</h2>\n        ${t?'<button id="return-button">GO BACK</button>':""}\n    `,uploadContent.style.display="block",t&&document.getElementById("return-button").addEventListener("click",(function(){showUploadForm("",n,o,t)})),overlay.style.display="flex"}document.getElementById("amount-value").addEventListener("blur",(function(e){let t=e.target,n=parseFloat(t.value);(isNaN(n)||n<1)&&(n=1),t.value=n.toFixed(2)})),paypal.Buttons({createOrder:function(e,t){return t.order.create({purchase_units:[{amount:{value:document.getElementById("amount-value").value}}]})},onApprove:function(e,t){return t.order.capture().then((function(e){const t=e.purchase_units[0].amount.value;t>=5?showUploadForm("Thank you for your support!",t,e,!0):showUploadContent("Thank you very much for the support!")}))},onError:function(e){showUploadContent("There was an error.",!1)}}).render("#paypal-container");const kickme={id:"5O190127TN364715T",status:"COMPLETED",purchase_units:[{amount:{currency_code:"USD",value:"3.5"}}],payer:{name:{given_name:"John",surname:"Doe"},email_address:"johndoe@example.com",payer_id:"DUFRQ8GWYMJXC"}},contributors=[{title:"Contributor 1",description:"A phrase to say to the world!",imageUrl:"https://i.ibb.co/RY5YP9b/2d-mario-running.gif"},{title:"Contributor 2",description:"A phrase to say to the world!",imageUrl:"https://via.placeholder.com/400x400"},{title:"Contributor 3",description:"A phrase to say to the world!",imageUrl:"https://via.placeholder.com/400x400"},{title:"Contributor 4",description:"A phrase to say to the world!",imageUrl:"https://via.placeholder.com/400x400"}];function createCard(e){const t=document.createElement("div");return t.classList.add("contributors-card"),t.innerHTML=`\n    <img src="${e.imageUrl}" alt="${e.title}">\n    <div class="contributors-card-content">\n        <h3>${e.title}</h3>\n        <p>${e.description}</p>\n    </div>\n`,t.addEventListener("click",(function(){this.classList.contains("hide-content")?this.classList.remove("hide-content"):this.classList.add("hide-content")})),t}function populateGallery(e){const t=document.getElementById("gallery-container");t.innerHTML="",e.forEach((e=>{const n=createCard(e);t.appendChild(n)}))}populateGallery(contributors);